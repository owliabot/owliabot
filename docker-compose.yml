# docker-compose.yml for OwliaBot
# Generated by onboard

services:
  owliabot:
    image: ${OWLIABOT_IMAGE:-ghcr.io/owliabot/owliabot:latest}
    container_name: owliabot
    restart: unless-stopped
    ports:
      - "127.0.0.1:8787:8787"
    volumes:
      - ~/.owliabot/secrets.yaml:/app/config/secrets.yaml
      - ~/.owliabot/auth:/home/owliabot/.owliabot/auth
      - ~/.owliabot/app.yaml:/app/config/app.yaml
      - ~/.owliabot/workspace:/app/workspace
    environment:
      - TZ=UTC
    command: ["start", "-c", "/app/config/app.yaml"]
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:8787/health"]
      interval: 5s
      timeout: 3s
      retries: 3
      start_period: 10s
